(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04f05532"],{"534f":function(t,a,o){},a997:function(t,a,o){"use strict";o.r(a);var e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{attrs:{id:"withDrawal"}},[o("div",{staticClass:"content"},[o("van-form",{ref:"formRef",staticClass:"formBox"},[o("van-cell-group",{staticClass:"formCell moneyBox",attrs:{border:!1}},[o("van-field",{attrs:{placeholder:"请输入您的提现金额",rules:t.formRule.money,error:!1,name:"money"},scopedSlots:t._u([{key:"left-icon",fn:function(){return[o("p",{staticClass:"leftIcon"},[t._v("￥")])]},proxy:!0},{key:"button",fn:function(){return[o("van-button",{staticClass:"withDrawalAll",attrs:{round:"",block:"",type:"info","native-type":"button"},on:{click:t.withDrawalAll}},[t._v("全部提现")])]},proxy:!0}]),model:{value:t.formData.money,callback:function(a){t.$set(t.formData,"money",a)},expression:"formData.money"}})],1)],1),o("p",{staticClass:"balance"},[t._v("可提现金额 ￥"+t._s(t.formData.can_withdraw))]),o("div",{staticClass:"withDrawalRule"}),o("div",{staticClass:"submitBox"},[o("van-button",{staticClass:"withDrawalSubmit",attrs:{type:"default",block:""},on:{click:t.withDrawalSubmit}},[t._v("确认提现")])],1)],1),o("van-overlay",{staticClass:"loadBox",attrs:{show:t.load,"z-index":1e4,"lock-scroll":!0}},[t.load?o("van-loading",{staticClass:"load",attrs:{type:"spinner",color:"#1989fa",vertical:!0}}):t._e()],1)],1)},n=[],r=(o("a9e3"),o("ac1f"),o("1276"),o("0a14")),i={data:function(){var t=function(t,a){var o=function(t){if(!t)return"0.00";t=parseFloat(t),t=t.toLocaleString();var a=t.split(".");return 1==a.length?t+".00":a.length>1?1==a[1].length?t+"0":t:void 0}(t);return"0.00"!==o};return{load:!0,withDrawalFlag:!0,formData:{money:"",can_withdraw:0},formRule:{money:[{required:!0,message:"提现金额不可为空",trigger:"onChange"},{pattern:/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,message:"只能输入正整数，或者小数位不超过两位的数字",trigger:"onChange"},{validator:t,trigger:"onChange",message:"提现金额不能为0"}]}}},created:function(){this.getData(),this.$shareConfig()},methods:{getData:function(){var t=this;this.load=!0,Object(r["l"])().then((function(a){t.formData.can_withdraw=a.can_withdraw,t.load=!1}))},withDrawalSubmit:function(){var t=this;this.$refs.formRef.validate().then((function(a){var o=Number(t.formData.money),e=Number(t.formData.can_withdraw);if(console.log(o),console.log(e),o<=e){if(!t.withDrawalFlag)return;t.withDrawalFlag=!1;var n={amount:t.formData.money};Object(r["o"])(n).then((function(a){t.withDrawalFlag=!0,"success"==a.status?t.$dialog.alert({message:"提现申请成功!"}).then((function(){t.$router.go(0)})):t.$dialog.alert({message:"提现申请失败，请重新申请!"})}))}else t.$toast({position:"top",message:"输入提现金额不可大于可提现金额"})})).catch((function(t){console.log(t)}))},withDrawalAll:function(){this.formData.money=this.formData.can_withdraw}}},l=i,s=(o("c785"),o("2877")),c=Object(s["a"])(l,e,n,!1,null,"69352df6",null);a["default"]=c.exports},c785:function(t,a,o){"use strict";var e=o("534f"),n=o.n(e);n.a}}]);
//# sourceMappingURL=chunk-04f05532.df4064a0.js.map