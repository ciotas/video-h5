{"version":3,"sources":["webpack:///./src/views/detail.vue?660c","webpack:///./src/components/inviteLogin.vue?5190","webpack:///src/components/inviteLogin.vue","webpack:///./src/components/inviteLogin.vue?fa37","webpack:///./src/components/inviteLogin.vue","webpack:///src/views/detail.vue","webpack:///./src/views/detail.vue?909e","webpack:///./src/views/detail.vue","webpack:///./src/assets/img/distributionRule.png","webpack:///./src/views/detail.vue?c6ea","webpack:///./src/components/toHome.vue?f6aa","webpack:///src/components/toHome.vue","webpack:///./src/components/toHome.vue?7611","webpack:///./src/components/toHome.vue","webpack:///./src/components/toHome.vue?1756","webpack:///./src/components/inviteLogin.vue?b857"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","load","_e","_l","data","image","index","key","_v","poster_v","_s","name","video_num","item","class","shrink","showToggleBtn","showVideoBrief","ref","domProps","introduction","on","changeBrief","_m","real_price","price","handleWeappError","handleWeappLaunch","is_buy","WXPay","toShare","rate","showInviter","from_user_id","ac_id","closeDialog","staticRenderFns","loginTrue","loginStatus","scopedSlots","_u","fn","dialogData","avatar","proxy","model","value","callback","$$v","expression","user_name","program_name","login","formRule","tel","formData","$set","code","notClick","getCodeFlag","getCode","times","props","checkCode","regCode","test","length","loginFlag","intervalFlag","codeKey","created","testToken","getData","methods","console","log","res","$store","state","appUserInfo","token","setTime","getTime","nowTime","$emit","$refs","formRef","mobile","user_id","WXUserInfo","id","verification_key","verification_code","openid","open_id","status","expired_at","$toast","component","components","toHome","inviteLogin","getDataFlag","commit","$router","push","$shareConfig","getUrlParam","urlParam","i","split","distributionInfo","location","replace","toUser","watch","$nextTick","videoBriefHeight","briefLineHeight","module","exports","toPages","toWhere"],"mappings":"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","file":"js/chunk-7741908e.a67607d3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"detail\"}},[_c('van-overlay',{staticClass:\"loadBox\",attrs:{\"show\":_vm.load,\"z-index\":10000,\"lock-scroll\":true}},[(_vm.load)?_c('van-loading',{staticClass:\"load\",attrs:{\"type\":\"spinner\",\"color\":\"#1989fa\",\"vertical\":true}}):_vm._e()],1),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"swiperBox\"},[_c('van-swipe',{staticClass:\"my-swipe\",attrs:{\"autoplay\":3000}},_vm._l((_vm.data.acImages),function(image,index){return _c('van-swipe-item',{key:index},[_c('img',{attrs:{\"src\":image,\"alt\":\"\"}})])}),1)],1),_c('div',{staticClass:\"tip\"},[_vm._v(\" 《亮剑》导演张前执导 CCTV-1黄金档同步热播 新时光全网独家 \")]),_c('div',{staticClass:\"videoBaseInfo\"},[_c('div',{staticClass:\"videoTitle\"},[_c('div',{staticClass:\"posterBox\"},[_c('img',{attrs:{\"src\":_vm.data.poster_v,\"alt\":\"\"}})]),_c('div',{staticClass:\"rightBox\"},[_c('p',{staticClass:\"videoName\"},[_vm._v(_vm._s(_vm.data.name))]),_c('p',[_c('span',{staticClass:\"episodes\"},[_vm._v(\"共\"+_vm._s(_vm.data.video_num)+\"集\")]),_vm._l((_vm.data.tags),function(item,index){return _c('span',{key:index},[(index !== 0)?_c('span',[_vm._v(\"/\")]):_vm._e(),_vm._v(\" \"+_vm._s(item)+\" \")])})],2),_c('p',[_vm._v(\"导演 ：\")]),_c('p',[_vm._v(\"领衔主演 ：\")])])]),_c('div',{staticClass:\"videoBrief\"},[_c('div',{staticClass:\"BriefBox\",class:{ shrink: _vm.showToggleBtn && _vm.showVideoBrief }},[_c('div',{ref:\"videoBriefText\",staticClass:\"videoBriefText\",domProps:{\"innerHTML\":_vm._s(_vm.introduction)}}),(_vm.showToggleBtn && _vm.showVideoBrief)?_c('div',{staticClass:\"ellipsis\"},[_vm._v(\" ... \")]):_vm._e()]),(_vm.showToggleBtn)?_c('p',{staticClass:\"changeBrief\",on:{\"click\":_vm.changeBrief}},[_vm._v(\" \"+_vm._s(_vm.showVideoBrief ? \"展开\" : \"收起\")+\" \")]):_vm._e()]),_vm._m(0),_c('div',{staticClass:\"videoBuy\"},[_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"realPrice\"},[_vm._v(\"￥\"+_vm._s(_vm.data.real_price))]),_c('span',{staticClass:\"deletePrice\"},[_vm._v(\"￥\"+_vm._s(_vm.data.price))]),_c('span',{staticClass:\"rightMarker\"},[_vm._v(_vm._s(_vm.data.video_num)+\"集\")])]),_c('div',{staticClass:\"tryWatch\"},[_c('wx-open-launch-weapp',{attrs:{\"id\":\"toWeapp\",\"username\":\"gh_1653716eeae2\",\"path\":\"/pages/videoDetail/videoDetail.html\"},on:{\"error\":_vm.handleWeappError,\"launch\":_vm.handleWeappLaunch}},[[_c('p',[_vm._v(\"免费试看\")])]],2)],1),(!_vm.data.is_buy)?_c('div',{staticClass:\"buyNow\",on:{\"click\":_vm.WXPay}},[_vm._v(\"立即抢购\")]):_c('div',{staticClass:\"buyNow\"},[_vm._v(\"已购买\")])]),_c('div',{staticClass:\"shareBtn\",on:{\"click\":_vm.toShare}},[_c('p',[_vm._v(\"邀请好友得\")]),_c('p',[_c('span',[_vm._v(_vm._s((_vm.data.real_price * _vm.data.rate) / 100))]),_vm._v(\" 元 \")])])])]),_c('to-home',{attrs:{\"toWhere\":'personalCenter'}}),(_vm.showInviter)?_c('invite-login',{attrs:{\"showInviter\":_vm.showInviter,\"from_user_id\":_vm.from_user_id,\"ac_id\":_vm.ac_id},on:{\"closeDialog\":_vm.closeDialog}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"videoDetail\"},[_c('img',{attrs:{\"src\":require(\"../assets/img/distributionRule.png\"),\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"inviteLogin\"}},[_c('van-dialog',{class:{ loginTrue: _vm.loginStatus },attrs:{\"show-confirm-button\":false},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('p',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":_vm.dialogData.avatar,\"alt\":\"\"}})]),_c('i',{staticClass:\"closeBtn iconfont icon-guanbi3\",on:{\"click\":_vm.closeDialog}})]},proxy:true}]),model:{value:(_vm.showInviter),callback:function ($$v) {_vm.showInviter=$$v},expression:\"showInviter\"}},[[_c('div',{staticClass:\"inviter\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.dialogData.user_name))]),_c('p',{staticClass:\"tip\"},[_vm._v(\" 邀您1元看大剧《\"+_vm._s(_vm.dialogData.program_name)+\"》，重温乒乓王者路 \")])]),(!_vm.loginStatus)?_c('van-form',{ref:\"formRef\",staticClass:\"formBox\",on:{\"submit\":_vm.login}},[_c('van-cell-group',{staticClass:\"formCell telBox\"},[_c('van-field',{attrs:{\"placeholder\":\"请输入手机号\",\"rules\":_vm.formRule.tel,\"error\":false,\"name\":\"tel\",\"type\":\"number\"},model:{value:(_vm.formData.tel),callback:function ($$v) {_vm.$set(_vm.formData, \"tel\", $$v)},expression:\"formData.tel\"}})],1),_c('van-cell-group',{staticClass:\"formCell codeBox\"},[_c('van-field',{attrs:{\"placeholder\":\"请输入验证码\",\"rules\":_vm.formRule.code,\"error\":false,\"name\":\"code\",\"type\":\"number\",\"maxlength\":4},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{staticClass:\"getCodeBtn\",class:{ notClick: !_vm.getCodeFlag },attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"button\",\"disabled\":!_vm.getCodeFlag},on:{\"click\":_vm.getCode}},[(_vm.intervalFlag)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.times)+\")\")]):_vm._e(),_vm._v(\" 获取验证码 \")])]},proxy:true}],null,false,1907922443),model:{value:(_vm.formData.code),callback:function ($$v) {_vm.$set(_vm.formData, \"code\", $$v)},expression:\"formData.code\"}})],1),_c('van-cell-group',{staticClass:\"formCell submitBox\"},[_c('van-button',{staticClass:\"submitBtn\",attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"接受邀请\")])],1)],1):_c('div',{staticClass:\"btnBox\"},[_c('van-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\"确认\")])],1)]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"inviteLogin\">\r\n    <van-dialog\r\n      v-model=\"showInviter\"\r\n      :show-confirm-button=\"false\"\r\n      :class=\"{ loginTrue: loginStatus }\"\r\n    >\r\n      <template #title>\r\n        <p class=\"avatar\">\r\n          <img :src=\"dialogData.avatar\" alt=\"\" />\r\n        </p>\r\n        <i class=\"closeBtn iconfont icon-guanbi3\" @click=\"closeDialog\"></i>\r\n      </template>\r\n      <template>\r\n        <div class=\"inviter\">\r\n          <p class=\"name\">{{ dialogData.user_name }}</p>\r\n          <p class=\"tip\">\r\n            邀您1元看大剧《{{ dialogData.program_name }}》，重温乒乓王者路\r\n          </p>\r\n        </div>\r\n        <van-form\r\n          v-if=\"!loginStatus\"\r\n          class=\"formBox\"\r\n          ref=\"formRef\"\r\n          @submit=\"login\"\r\n        >\r\n          <!-- 手机号 -->\r\n          <van-cell-group class=\"formCell telBox\">\r\n            <van-field\r\n              placeholder=\"请输入手机号\"\r\n              v-model=\"formData.tel\"\r\n              :rules=\"formRule.tel\"\r\n              :error=\"false\"\r\n              name=\"tel\"\r\n              type=\"number\"\r\n            ></van-field>\r\n          </van-cell-group>\r\n          <!-- 验证码 -->\r\n          <van-cell-group class=\"formCell codeBox\">\r\n            <van-field\r\n              placeholder=\"请输入验证码\"\r\n              v-model=\"formData.code\"\r\n              :rules=\"formRule.code\"\r\n              :error=\"false\"\r\n              name=\"code\"\r\n              type=\"number\"\r\n              :maxlength=\"4\"\r\n            >\r\n              <template #button>\r\n                <van-button\r\n                  round\r\n                  block\r\n                  type=\"info\"\r\n                  native-type=\"button\"\r\n                  class=\"getCodeBtn\"\r\n                  :class=\"{ notClick: !getCodeFlag }\"\r\n                  @click=\"getCode\"\r\n                  :disabled=\"!getCodeFlag\"\r\n                >\r\n                  <span v-if=\"intervalFlag\">({{ times }})</span>\r\n                  获取验证码\r\n                </van-button>\r\n              </template>\r\n            </van-field>\r\n          </van-cell-group>\r\n          <!-- 确认按钮 -->\r\n          <van-cell-group class=\"formCell submitBox\">\r\n            <van-button\r\n              round\r\n              block\r\n              type=\"info\"\r\n              native-type=\"submit\"\r\n              class=\"submitBtn\"\r\n              >接受邀请</van-button\r\n            >\r\n          </van-cell-group>\r\n          <!--  -->\r\n        </van-form>\r\n        <div v-else class=\"btnBox\">\r\n          <van-button type=\"info\" @click=\"closeDialog\">确认</van-button>\r\n        </div>\r\n      </template>\r\n    </van-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  getPhoneCode,\r\n  codeLogin,\r\n  createShareImg,\r\n  getInviteLoginData,\r\n} from \"../assets/javascript/apis.js\";\r\nexport default {\r\n  name: \"inviteLogin\",\r\n  props: [\"showInviter\", \"from_user_id\", \"ac_id\"],\r\n  data() {\r\n    var checkCode = (value, rule) => {\r\n      var regCode = /^\\d+$|^\\d+[.]?\\d+$/;\r\n      return regCode.test(value) && value.length == 4;\r\n    };\r\n    return {\r\n      loginStatus: false,\r\n      getCodeFlag: true,\r\n      loginFlag: true,\r\n      intervalFlag: false,\r\n      times: 60,\r\n      dialogData: {},\r\n      formData: {\r\n        tel: \"\",\r\n        code: \"\",\r\n        codeKey: \"\",\r\n      },\r\n      formRule: {\r\n        tel: [\r\n          {\r\n            required: true,\r\n            message: \"手机号不可为空\",\r\n            trigger: \"onChange\",\r\n          },\r\n          {\r\n            pattern: /^1[3456789]\\d{9}$/,\r\n            message: \"请输入正确格式的手机号\",\r\n            trigger: \"onChange\",\r\n          },\r\n        ],\r\n        code: [\r\n          {\r\n            required: true,\r\n            message: \"验证码不可为空\",\r\n            trigger: \"onChange\",\r\n          },\r\n          {\r\n            validator: checkCode,\r\n            message: \"验证码为长度为4的数字\",\r\n            trigger: \"onChange\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.loginStatus = this.testToken();\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    getData() {\r\n      const data = {\r\n        from_user_id: this.from_user_id,\r\n        ac_id: this.ac_id,\r\n      };\r\n      console.log(data);\r\n      getInviteLoginData(data).then((res) => {\r\n        console.log(res);\r\n        this.dialogData = res.data;\r\n      });\r\n    },\r\n    testToken() {\r\n      if (this.$store.state.appUserInfo.token) {\r\n        let setTime = new Date(this.$store.state.appUserInfo.expired_at);\r\n        setTime = setTime.getTime();\r\n        let nowTime = new Date().getTime();\r\n        if (nowTime > setTime) {\r\n          return false;\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    closeDialog() {\r\n      this.$emit(\"closeDialog\");\r\n    },\r\n    //获取验证码\r\n    getCode() {\r\n      this.$refs.formRef\r\n        .validate(\"tel\")\r\n        .then((res) => {\r\n          if (!this.getCodeFlag) return;\r\n          this.getCodeFlag = false;\r\n\r\n          const data = {\r\n            mobile: this.formData.tel,\r\n          };\r\n          // console.log(data);\r\n          getPhoneCode(data).then((res) => {\r\n            // console.log(res);\r\n            if (res.code == 1000) {\r\n              this.times = 60;\r\n              this.intervalFlag = true;\r\n              let _this = this,\r\n                time = setInterval(function () {\r\n                  if (_this.times <= 0) {\r\n                    _this.getCodeFlag = true;\r\n                    _this.intervalFlag = false;\r\n                    clearInterval(time);\r\n                  }\r\n                  _this.times--;\r\n                }, 1000);\r\n              this.formData.codeKey = res.key;\r\n              this.$toast({ position: \"top\", message: \"发送验证码成功!\" });\r\n            } else {\r\n              this.$toast({ position: \"top\", message: res.message });\r\n            }\r\n          });\r\n        })\r\n        .catch((res) => {\r\n          console.log(res);\r\n        });\r\n    },\r\n    //登录提交\r\n    login(val) {\r\n      if (this.formData.codeKey) {\r\n        if (!this.loginFlag) return;\r\n        this.loginFlag = false;\r\n\r\n        const data = {\r\n          mobile: this.formData.tel,\r\n          user_id: this.$store.state.WXUserInfo.id,\r\n          verification_key: this.formData.codeKey,\r\n          verification_code: this.formData.code,\r\n          openid: this.$store.state.WXUserInfo.open_id,\r\n        };\r\n\r\n        codeLogin(data).then((res) => {\r\n          console.log(res);\r\n          this.loginFlag = true;\r\n          if (res.status == \"success\") {\r\n            this.$store.commit(\"setAppUserInfo\", {\r\n              token: res.token,\r\n              expired_at: res.expired_at,\r\n              id: res.data.id,\r\n            });\r\n            const data = {\r\n              ac_id: this.$store.state.distributionInfo.ac_id,\r\n              user_id: res.data.id,\r\n            };\r\n            createShareImg(data).then((res) => {});\r\n            this.closeDialog();\r\n          } else {\r\n            this.$toast({ position: \"top\", message: res.message });\r\n          }\r\n        });\r\n      } else {\r\n        this.$toast({ position: \"top\", message: \"请先获取验证码\" });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n#inviteLogin {\r\n  /deep/.van-dialog {\r\n    width: 280px;\r\n    height: 270px;\r\n    background: #ffffff;\r\n    border-radius: 5px;\r\n    overflow: visible;\r\n    &.loginTrue {\r\n      height: 180px;\r\n    }\r\n    .van-dialog__header {\r\n      height: 45px;\r\n      padding: 0;\r\n      position: relative;\r\n      .avatar {\r\n        width: 70px;\r\n        height: 70px;\r\n        border-radius: 50%;\r\n        position: absolute;\r\n        top: -38px;\r\n        left: 50%;\r\n        margin-left: -38px;\r\n        border: 3px solid #fdfbfb;\r\n        img {\r\n          width: 70px;\r\n          height: 70px;\r\n          border-radius: 50%;\r\n        }\r\n      }\r\n      i {\r\n        position: absolute;\r\n        top: 16px;\r\n        right: 16px;\r\n        font-size: 28px;\r\n        color: #aaaaaa;\r\n      }\r\n    }\r\n    .van-dialog__content {\r\n      .inviter {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        p {\r\n          line-height: 25px;\r\n          text-align: center;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          color: #080808;\r\n          word-break: break-all;\r\n          &.name {\r\n            width: 200px;\r\n            white-space: nowrap;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n          }\r\n          &.tip {\r\n            font-size: 12px;\r\n            color: #565656;\r\n          }\r\n        }\r\n      }\r\n      /deep/.formBox {\r\n        margin-top: 20px;\r\n        .formCell {\r\n          margin-bottom: 15px;\r\n          &:after {\r\n            border: none;\r\n          }\r\n          .van-field {\r\n            width: 100%;\r\n            height: 30px;\r\n            padding: 0 30px;\r\n            overflow: inherit;\r\n            .van-field__value {\r\n              width: 100%;\r\n              height: 30px;\r\n              position: relative;\r\n              .van-field__body {\r\n                width: 100%;\r\n                height: 30px;\r\n                border-bottom: 1px solid #eee;\r\n                input {\r\n                  width: 100%;\r\n                  height: 30px;\r\n                  font-size: 14px;\r\n                }\r\n              }\r\n              .van-field__error-message {\r\n                position: absolute;\r\n                top: 90%;\r\n                left: 0;\r\n                z-index: 10000;\r\n                font-size: 12px;\r\n              }\r\n            }\r\n          }\r\n          &.codeBox {\r\n            .getCodeBtn {\r\n              width: 120px;\r\n              height: 30px;\r\n              background: linear-gradient(\r\n                -10deg,\r\n                rgba(76, 170, 241, 1),\r\n                rgba(155, 120, 240, 1)\r\n              );\r\n              border-radius: 30px;\r\n              font-size: 12px;\r\n              font-weight: 500;\r\n              color: rgba(255, 255, 255, 1);\r\n              border: none;\r\n            }\r\n            .notClick {\r\n              background: rgba(241, 243, 245, 1);\r\n              color: rgba(7, 7, 7, 1);\r\n            }\r\n          }\r\n          &.submitBox {\r\n            width: 100%;\r\n            display: flex;\r\n            justify-content: center;\r\n            margin: 25px 0 0 0;\r\n            button {\r\n              width: 230px;\r\n              height: 40px;\r\n              background: linear-gradient(-10deg, #4caaf1, #9c78f0);\r\n              border-radius: 5px;\r\n              font-size: 14px;\r\n              color: #ffffff;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .btnBox {\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: center;\r\n        margin: 25px 0 0 0;\r\n        button {\r\n          width: 230px;\r\n          height: 40px;\r\n          background: linear-gradient(-10deg, #4caaf1, #9c78f0);\r\n          border-radius: 5px;\r\n          font-size: 14px;\r\n          color: #ffffff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inviteLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inviteLogin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./inviteLogin.vue?vue&type=template&id=37fca965&scoped=true&\"\nimport script from \"./inviteLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./inviteLogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./inviteLogin.vue?vue&type=style&index=0&id=37fca965&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37fca965\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"detail\">\r\n    <van-overlay\r\n      :show=\"load\"\r\n      :z-index=\"10000\"\r\n      class=\"loadBox\"\r\n      :lock-scroll=\"true\"\r\n    >\r\n      <van-loading\r\n        class=\"load\"\r\n        type=\"spinner\"\r\n        color=\"#1989fa\"\r\n        :vertical=\"true\"\r\n        v-if=\"load\"\r\n      />\r\n    </van-overlay>\r\n    <div class=\"content\">\r\n      <div class=\"swiperBox\">\r\n        <van-swipe class=\"my-swipe\" :autoplay=\"3000\">\r\n          <van-swipe-item v-for=\"(image, index) in data.acImages\" :key=\"index\">\r\n            <img :src=\"image\" alt />\r\n          </van-swipe-item>\r\n        </van-swipe>\r\n      </div>\r\n      <div class=\"tip\">\r\n        《亮剑》导演张前执导 CCTV-1黄金档同步热播 新时光全网独家\r\n      </div>\r\n      <div class=\"videoBaseInfo\">\r\n        <div class=\"videoTitle\">\r\n          <div class=\"posterBox\">\r\n            <img :src=\"data.poster_v\" alt=\"\" />\r\n          </div>\r\n          <div class=\"rightBox\">\r\n            <p class=\"videoName\">{{ data.name }}</p>\r\n            <p>\r\n              <span class=\"episodes\">共{{ data.video_num }}集</span>\r\n              <span v-for=\"(item, index) in data.tags\" :key=\"index\">\r\n                <span v-if=\"index !== 0\">/</span>\r\n                {{ item }}\r\n              </span>\r\n            </p>\r\n            <p>导演 ：</p>\r\n            <p>领衔主演 ：</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"videoBrief\">\r\n          <div\r\n            class=\"BriefBox\"\r\n            :class=\"{ shrink: showToggleBtn && showVideoBrief }\"\r\n          >\r\n            <div\r\n              class=\"videoBriefText\"\r\n              ref=\"videoBriefText\"\r\n              v-html=\"introduction\"\r\n            ></div>\r\n            <div v-if=\"showToggleBtn && showVideoBrief\" class=\"ellipsis\">\r\n              ...\r\n            </div>\r\n          </div>\r\n          <p class=\"changeBrief\" v-if=\"showToggleBtn\" @click=\"changeBrief\">\r\n            {{ showVideoBrief ? \"展开\" : \"收起\" }}\r\n          </p>\r\n        </div>\r\n        <div class=\"videoDetail\">\r\n          <img src=\"../assets/img/distributionRule.png\" alt=\"\" />\r\n        </div>\r\n        <!--  -->\r\n        <div class=\"videoBuy\">\r\n          <div class=\"price\">\r\n            <span class=\"realPrice\">￥{{ data.real_price }}</span>\r\n            <span class=\"deletePrice\">￥{{ data.price }}</span>\r\n            <span class=\"rightMarker\">{{ data.video_num }}集</span>\r\n          </div>\r\n          <div class=\"tryWatch\">\r\n            <wx-open-launch-weapp\r\n              id=\"toWeapp\"\r\n              username=\"gh_1653716eeae2\"\r\n              path=\"/pages/videoDetail/videoDetail.html\"\r\n              @error=\"handleWeappError\"\r\n              @launch=\"handleWeappLaunch\"\r\n            >\r\n              <template>\r\n                <p>免费试看</p>\r\n              </template>\r\n            </wx-open-launch-weapp>\r\n          </div>\r\n          <div class=\"buyNow\" v-if=\"!data.is_buy\" @click=\"WXPay\">立即抢购</div>\r\n          <div class=\"buyNow\" v-else>已购买</div>\r\n        </div>\r\n        <div class=\"shareBtn\" @click=\"toShare\">\r\n          <p>邀请好友得</p>\r\n          <p>\r\n            <span>{{ (data.real_price * data.rate) / 100 }}</span>\r\n            元\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <to-home :toWhere=\"'personalCenter'\"></to-home>\r\n    <invite-login\r\n      v-if=\"showInviter\"\r\n      :showInviter=\"showInviter\"\r\n      :from_user_id=\"from_user_id\"\r\n      :ac_id=\"ac_id\"\r\n      @closeDialog=\"closeDialog\"\r\n    >\r\n    </invite-login>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getDetailData, getWXPay } from \"../assets/javascript/apis.js\";\r\nimport toHome from \"../components/toHome.vue\";\r\nimport inviteLogin from \"../components/inviteLogin.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    toHome,\r\n    inviteLogin,\r\n  },\r\n  data() {\r\n    return {\r\n      introduction: \"\",\r\n      showToggleBtn: false,\r\n      showVideoBrief: true,\r\n      load: false,\r\n      getDataFlag: true,\r\n      data: {},\r\n      is_buy: false,\r\n      showInviter: false,\r\n      ac_id: 0,\r\n      from_user_id: 0,\r\n    };\r\n  },\r\n  created() {\r\n    let ac_id = this.getUrlParam(\"ac_id\"),\r\n      from_user_id = this.getUrlParam(\"from_user_id\");\r\n\r\n    //如果获取到了两个参数，则将两个参数更新到vuex中保存\r\n    if (ac_id && from_user_id) {\r\n      this.$store.commit(\"setDistributionInfo\", {\r\n        ac_id,\r\n        from_user_id,\r\n      });\r\n    }\r\n    //如果没有获得到对应的数据，则跳转向错误页面\r\n    if (\r\n      this.$store.state.distributionInfo.ac_id &&\r\n      this.$store.state.distributionInfo.from_user_id\r\n    ) {\r\n      this.getData();\r\n    } else {\r\n      this.$router.push(\"/errorPage\");\r\n    }\r\n\r\n    if (ac_id && from_user_id) {\r\n      this.ac_id = ac_id;\r\n      this.from_user_id = from_user_id;\r\n      this.showInviter = true;\r\n    }\r\n    //设置分享链接\r\n    this.$shareConfig();\r\n  },\r\n  methods: {\r\n    closeDialog() {\r\n      this.showInviter = false;\r\n    },\r\n    //获取地址栏参数,没有对应的参数则返回false\r\n    getUrlParam(name) {\r\n      let urlParam = window.location.search.substr(1).split(\"&\");\r\n      for (let i = 0; i < urlParam.length; i++) {\r\n        if (urlParam[i].split(\"=\")[0] == name) {\r\n          return urlParam[i].split(\"=\")[1];\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    //获取页面数据\r\n    getData() {\r\n      this.load = true;\r\n      if (!this.getDataFlag) return;\r\n      this.getDataFlag = false;\r\n      const data = {\r\n        ac_id: this.$store.state.distributionInfo.ac_id,\r\n        user_id: this.$store.state.WXUserInfo.id\r\n          ? this.$store.state.WXUserInfo.id\r\n          : \"\",\r\n      };\r\n      getDetailData(data).then((res) => {\r\n        console.log(res);\r\n        this.data = res;\r\n        this.introduction = res.introduction;\r\n        this.is_buy = res.is_buy;\r\n        this.load = false;\r\n        this.getDataFlag = true;\r\n      });\r\n    },\r\n    //购买视频\r\n    WXPay() {\r\n      // debugger\r\n      if (this.$store.state.appUserInfo.token) {\r\n        if (this.$store.state.WXUserInfo.id) {\r\n          const data = {\r\n            ac_id: this.$store.state.distributionInfo.ac_id,\r\n            from_user_id: this.$store.state.distributionInfo.from_user_id,\r\n            user_id: this.$store.state.WXUserInfo.id,\r\n            openid: this.$store.state.WXUserInfo.open_id,\r\n          };\r\n          getWXPay(data).then((res) => {\r\n            console.log(res);\r\n            //发起支付请求\r\n            this.$payConfig(\r\n              res.timeStamp, // 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符\r\n              res.nonceStr, // 支付签名随机串，不长于 32 位\r\n              res.package, // 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=\\*\\*\\*）\r\n              res.signType, // 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'\r\n              res.paySign, // 支付签名\r\n              function () {\r\n                console.log(\"支付成功\");\r\n                this.$router.push({\r\n                  name: \"payResult\",\r\n                  query: {\r\n                    result: true,\r\n                  },\r\n                });\r\n              },\r\n              function () {\r\n                console.log(\"支付失败\");\r\n                this.$router.push({\r\n                  name: \"payResult\",\r\n                  query: {\r\n                    result: false,\r\n                  },\r\n                });\r\n              }\r\n            );\r\n          });\r\n        } else {\r\n          let pureUrl = encodeURI(window.location.origin + this.$route.path);\r\n          location.replace(\r\n            \"https://app.newtiming.com/api/v1/socials/authorizations?redirect_url=\" +\r\n              pureUrl +\r\n              \"&user_id=\" +\r\n              this.$store.state.appUserInfo.id\r\n          );\r\n        }\r\n      } else {\r\n        this.$router.push(\"/login\");\r\n      }\r\n    },\r\n    //去往个人中心页面\r\n    toUser() {\r\n      this.$router.push({ name: \"personalCenter\" });\r\n    },\r\n    //去往分享页面\r\n    toShare() {\r\n      this.$router.push({ name: \"share\" });\r\n    },\r\n    //跳转小程序的相关函数\r\n    handleWeappError() {\r\n      console.log(\"跳转失败\");\r\n    },\r\n    handleWeappLaunch() {\r\n      console.log(\"跳转成功\");\r\n    },\r\n    //改变视频简介信息状态\r\n    changeBrief() {\r\n      this.showVideoBrief = !this.showVideoBrief;\r\n    },\r\n  },\r\n  watch: {\r\n    introduction: function () {\r\n      this.$nextTick(function () {\r\n        let videoBriefHeight = parseFloat(\r\n          window.getComputedStyle(this.$refs.videoBriefText).height\r\n        );\r\n        let briefLineHeight = parseFloat(\r\n          window.getComputedStyle(this.$refs.videoBriefText).lineHeight\r\n        );\r\n        console.log(videoBriefHeight, briefLineHeight);\r\n        if (videoBriefHeight > briefLineHeight * 3) {\r\n          console.log(1);\r\n          this.showToggleBtn = true;\r\n        } else {\r\n          console.log(2);\r\n          this.showToggleBtn = false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#detail {\r\n  height: 100%;\r\n  width: 100%;\r\n  .loadBox {\r\n    background: white;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .content {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    .swiperBox {\r\n      flex-shrink: 0;\r\n      width: 100%;\r\n      height: 221px;\r\n      /deep/.my-swipe {\r\n        width: 100%;\r\n        height: 221px;\r\n\r\n        .van-swipe__track {\r\n          .van-swipe-item {\r\n            img {\r\n              width: 100%;\r\n              height: 221px;\r\n            }\r\n          }\r\n        }\r\n        .van-swipe__indicators {\r\n          .van-swipe__indicator {\r\n            background: linear-gradient(\r\n              -10deg,\r\n              rgba(76, 170, 241, 1),\r\n              rgba(155, 120, 240, 1)\r\n            );\r\n            opacity: 0.7;\r\n          }\r\n          .van-swipe__indicator--active {\r\n            background: rgb(39, 11, 104);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .tip {\r\n      flex-shrink: 0;\r\n      width: 100%;\r\n      height: 25px;\r\n      text-align: center;\r\n      line-height: 25px;\r\n      background: linear-gradient(-10deg, #4caaf1, #9b78f0);\r\n      opacity: 0.5;\r\n      font-size: 10px;\r\n      color: #ffffff;\r\n    }\r\n    .videoBaseInfo {\r\n      flex-shrink: 0;\r\n      flex-grow: 1;\r\n      margin-top: 20px;\r\n      padding: 0 15px;\r\n      background: white;\r\n      display: flex;\r\n      flex-direction: column;\r\n      .videoTitle {\r\n        flex-shrink: 0;\r\n        height: 120px;\r\n        display: flex;\r\n        .posterBox {\r\n          width: 90px;\r\n          height: 120px;\r\n          border-radius: 4px 4px 4px 4px;\r\n          img {\r\n            width: 90px;\r\n            height: 120px;\r\n            border-radius: 4px 4px 4px 4px;\r\n          }\r\n        }\r\n        .rightBox {\r\n          margin-left: 15px;\r\n          p {\r\n            width: 200px;\r\n            line-height: 20px;\r\n            font-size: 12px;\r\n            color: #aaaaaa;\r\n            word-break: break-all;\r\n            white-space: nowrap;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            .episodes {\r\n              margin-right: 10px;\r\n            }\r\n          }\r\n          .videoName {\r\n            font-size: 16px;\r\n            font-weight: 500;\r\n            color: #070707;\r\n            margin-bottom: 15px;\r\n          }\r\n        }\r\n      }\r\n      .videoBrief {\r\n        flex-shrink: 0;\r\n        width: 100%;\r\n        height: auto;\r\n        margin-top: 20px;\r\n        font-size: 12px;\r\n        color: rgba(85, 85, 85, 1);\r\n        .BriefBox {\r\n          position: relative;\r\n        }\r\n        .shrink {\r\n          max-height: 63px;\r\n          overflow: hidden;\r\n          .ellipsis {\r\n            position: absolute;\r\n            bottom: 2px;\r\n            right: 0;\r\n            line-height: 21px;\r\n            font-size: 20px;\r\n            padding: 0 0 0 20px;\r\n            background: red;\r\n            background: -webkit-linear-gradient(left, transparent, #fff 55%);\r\n            background: -o-linear-gradient(right, transparent, #fff 55%);\r\n            background: -moz-linear-gradient(right, transparent, #fff 55%);\r\n            background: linear-gradient(to right, transparent, #fff 55%);\r\n          }\r\n        }\r\n        .videoBriefText {\r\n          height: auto;\r\n          line-height: 21px;\r\n          word-wrap: break-word;\r\n          word-break: break-all;\r\n        }\r\n        .changeBrief {\r\n          text-align: right;\r\n          padding: 0 10px;\r\n          font-size: 12px;\r\n          color: rgba(75, 165, 245, 1);\r\n          cursor: pointer;\r\n        }\r\n      }\r\n      .videoDetail {\r\n        width: 100%;\r\n        flex-grow: 1;\r\n        flex-shrink: 0;\r\n        margin: 15px 0 70px 0;\r\n        background: rgba(238, 238, 238, 1);\r\n        img {\r\n          width: 100%;\r\n        }\r\n      }\r\n      .videoBuy {\r\n        position: fixed;\r\n        bottom: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 60px;\r\n        box-sizing: border-box;\r\n        background: white;\r\n        display: flex;\r\n        align-items: center;\r\n        border-top: 1px solid #4caaf1;\r\n        div {\r\n          flex-grow: 1;\r\n          width: 33.3%;\r\n          height: 60px;\r\n          line-height: 60px;\r\n          text-align: center;\r\n          border-right: 1px solid #4caaf1;\r\n        }\r\n        .price {\r\n          position: relative;\r\n          .realPrice {\r\n            font-size: 22px;\r\n            font-weight: 500;\r\n            color: #4caaf1;\r\n          }\r\n          .deletePrice {\r\n            margin-left: 12px;\r\n            text-decoration: line-through;\r\n            font-size: 14px;\r\n            color: #aaaaaa;\r\n          }\r\n          .rightMarker {\r\n            position: absolute;\r\n            top: 0;\r\n            right: 0;\r\n            width: 30px;\r\n            height: 16px;\r\n            text-align: center;\r\n            line-height: 16px;\r\n            border-radius: 0px 0px 0px 10px;\r\n            background: linear-gradient(-10deg, #4caaf1, #9c78f0);\r\n            font-size: 9px;\r\n            color: #ffffff;\r\n          }\r\n        }\r\n        .tryWatch {\r\n          font-size: 18px;\r\n          color: #4caaf1;\r\n          p {\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n        }\r\n        .buyNow {\r\n          background: #4caaf1;\r\n          border: none;\r\n          font-size: 18px;\r\n          color: #ffffff;\r\n        }\r\n      }\r\n      .shareBtn {\r\n        position: fixed;\r\n        top: 35px;\r\n        right: 0;\r\n        height: 40px;\r\n        max-width: 100px;\r\n        box-sizing: border-box;\r\n        padding: 0 7px 0 18px;\r\n        text-align: center;\r\n        background: linear-gradient(\r\n          -10deg,\r\n          rgba(76, 170, 241, 1),\r\n          rgba(155, 120, 240, 1)\r\n        );\r\n        border-radius: 25px 0px 0px 25px;\r\n        font-size: 12px;\r\n        color: rgba(255, 255, 255, 1);\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-evenly;\r\n        align-items: center;\r\n        overflow: hidden;\r\n        p {\r\n          max-width: 75px;\r\n          word-break: break-all;\r\n          white-space: nowrap;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=3b124c8c&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=3b124c8c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b124c8c\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/distributionRule.8637c404.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=3b124c8c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=3b124c8c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"toHome\"},on:{\"click\":_vm.toPages}},[(_vm.toWhere == 'detail')?_c('i',{staticClass:\"iconfont icon-iconfontshangchengweijihuoeps\"}):_vm._e(),(_vm.toWhere == 'personalCenter')?_c('i',{staticClass:\"iconfont icon-shouye1 toDetail\"}):_vm._e(),(_vm.toWhere == 'personalCenter')?_c('p',[_vm._v(\"个人中心\")]):_vm._e(),(_vm.toWhere == 'detail')?_c('p',[_vm._v(\"返回\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"toHome\" @click=\"toPages\">\r\n    <i\r\n      class=\"iconfont icon-iconfontshangchengweijihuoeps\"\r\n      v-if=\"toWhere == 'detail'\"\r\n    ></i>\r\n    <i\r\n      class=\"iconfont icon-shouye1 toDetail\"\r\n      v-if=\"toWhere == 'personalCenter'\"\r\n    ></i>\r\n    <p v-if=\"toWhere == 'personalCenter'\">个人中心</p>\r\n    <p v-if=\"toWhere == 'detail'\">返回</p>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"toHome\",\r\n  props: [\"toWhere\"],\r\n  methods: {\r\n    toPages() {\r\n      this.$router.push(this.toWhere);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n#toHome {\r\n  width: 60px;\r\n  height: 60px;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  box-shadow: 1px 2px 20px 0px rgba(0, 0, 0, 0.1);\r\n  border-radius: 50%;\r\n  position: fixed;\r\n  bottom: 70px;\r\n  right: 15px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: #fff;\r\n  i {\r\n    font-size: 25px;\r\n  }\r\n  p {\r\n    font-size: 9px;\r\n    line-height: 20px;\r\n  }\r\n  .toDetail {\r\n    font-size: 30px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toHome.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toHome.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./toHome.vue?vue&type=template&id=1da08a80&scoped=true&\"\nimport script from \"./toHome.vue?vue&type=script&lang=js&\"\nexport * from \"./toHome.vue?vue&type=script&lang=js&\"\nimport style0 from \"./toHome.vue?vue&type=style&index=0&id=1da08a80&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1da08a80\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toHome.vue?vue&type=style&index=0&id=1da08a80&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toHome.vue?vue&type=style&index=0&id=1da08a80&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inviteLogin.vue?vue&type=style&index=0&id=37fca965&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inviteLogin.vue?vue&type=style&index=0&id=37fca965&lang=scss&scoped=true&\""],"sourceRoot":""}