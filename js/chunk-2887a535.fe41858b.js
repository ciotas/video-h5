(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2887a535"],{a997:function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{attrs:{id:"withDrawal"}},[e("div",{staticClass:"content"},[e("van-form",{ref:"formRef",staticClass:"formBox"},[e("van-cell-group",{staticClass:"formCell moneyBox"},[e("van-field",{attrs:{placeholder:"请输入您的提现金额",rules:a.formRule.money,error:!1,name:"money"},scopedSlots:a._u([{key:"left-icon",fn:function(){return[e("p",{staticClass:"leftIcon"},[a._v("￥")])]},proxy:!0},{key:"button",fn:function(){return[e("van-button",{staticClass:"withDrawalAll",attrs:{round:"",block:"",type:"info","native-type":"button"},on:{click:a.withDrawalAll}},[a._v("全部提现")])]},proxy:!0}]),model:{value:a.formData.money,callback:function(t){a.$set(a.formData,"money",t)},expression:"formData.money"}})],1)],1),e("p",{staticClass:"balance"},[a._v("可提现金额 ￥"+a._s(a.formData.can_withdraw))]),e("div",{staticClass:"withDrawalRule"}),e("div",{staticClass:"submitBox"},[e("van-button",{staticClass:"withDrawalSubmit",attrs:{type:"default",block:""},on:{click:a.withDrawalSubmit}},[a._v("确认提现")])],1)],1),e("van-overlay",{staticClass:"loadBox",attrs:{show:a.load,"z-index":1e4,"lock-scroll":!0}},[a.load?e("van-loading",{staticClass:"load",attrs:{type:"spinner",color:"#1989fa",vertical:!0}}):a._e()],1)],1)},o=[],r=(e("a9e3"),e("ac1f"),e("1276"),e("0a14")),i={data:function(){var a=function(a,t){var e=function(a){if(!a)return"0.00";a=parseFloat(a),a=a.toLocaleString();var t=a.split(".");return 1==t.length?a+".00":t.length>1?1==t[1].length?a+"0":a:void 0}(a);return"0.00"!==e};return{load:!0,withDrawalFlag:!0,formData:{money:"",can_withdraw:0},formRule:{money:[{required:!0,message:"提现金额不可为空",trigger:"onChange"},{pattern:/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,message:"只能输入正整数，或者小数位不超过两位的数字",trigger:"onChange"},{validator:a,trigger:"onChange",message:"提现金额不能为0"}]}}},created:function(){this.getData()},methods:{getData:function(){var a=this;this.load=!0,Object(r["k"])().then((function(t){a.formData.can_withdraw=t.can_withdraw,a.load=!1}))},withDrawalSubmit:function(){var a=this;this.$refs.formRef.validate().then((function(t){var e=Number(a.formData.money),n=Number(a.formData.can_withdraw);if(e<n){if(!a.withDrawalFlag)return;a.withDrawalFlag=!1;var o={amount:a.formData.money};Object(r["m"])(o).then((function(t){a.withDrawalFlag=!0,"success"==t.status?a.$dialog.alert({message:"提现申请成功!"}):a.$dialog.alert({message:"提现申请失败，请重新申请!"})}))}else a.$toast({position:"top",message:"输入提现金额不可大于可提现金额"})})).catch((function(a){console.log(a)}))},withDrawalAll:function(){this.formData.money=this.formData.can_withdraw}}},l=i,s=(e("cc61"),e("2877")),c=Object(s["a"])(l,n,o,!1,null,"35393caa",null);t["default"]=c.exports},cc61:function(a,t,e){"use strict";var n=e("e67c"),o=e.n(n);o.a},e67c:function(a,t,e){}}]);
//# sourceMappingURL=chunk-2887a535.fe41858b.js.map